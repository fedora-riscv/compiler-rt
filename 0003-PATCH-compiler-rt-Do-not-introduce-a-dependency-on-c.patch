From d95be525ceceb5afeaa87f4de95c30ec664b17d3 Mon Sep 17 00:00:00 2001
From: serge-sans-paille <sguelton@redhat.com>
Date: Tue, 11 May 2021 14:38:21 +0200
Subject: [PATCH][compiler-rt] Do not introduce a dependency on c++ runtime

That's at the expense of a runtime overhead though.
---
 compiler-rt/lib/sanitizer_common/sanitizer_posix_libcdep.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/compiler-rt/lib/sanitizer_common/sanitizer_posix_libcdep.cpp b/compiler-rt/lib/sanitizer_common/sanitizer_posix_libcdep.cpp
index 2b10bdd..240e6b3e 100644
--- a/compiler-rt/lib/sanitizer_common/sanitizer_posix_libcdep.cpp
+++ b/compiler-rt/lib/sanitizer_common/sanitizer_posix_libcdep.cpp
@@ -167,7 +167,7 @@ bool SupportsColoredOutput(fd_t fd) {
 // TODO(glider): different tools may require different altstack size.
 static uptr GetAltStackSize() {
   // SIGSTKSZ is not enough.
-  static const uptr kAltStackSize = SIGSTKSZ * 4;
+  const uptr kAltStackSize = SIGSTKSZ * 4;
   return kAltStackSize;
 }
 
-- 
1.8.3.1

